const data = {
  gemgrab: {
    name: "Gem Grab",
    maps: [
      {
        name: "Minecart Madness",
        img: "https://static.brawlify.com/brawlstars/maps/minecart-madness.png",
        characters: [
          { name: "Shelly", img: "https://static.brawlify.com/brawlstars/portrait/shelly.png" },
          { name: "Colt", img: "https://static.brawlify.com/brawlstars/portrait/colt.png" },
          { name: "Poco", img: "https://static.brawlify.com/brawlstars/portrait/poco.png" },
        ],
      },
      {
        name: "Hard Rock Mine",
        img: "https://static.brawlify.com/brawlstars/maps/hard-rock-mine.png",
        characters: [
          { name: "Brock", img: "https://static.brawlify.com/brawlstars/portrait/brock.png" },
          { name: "Pam", img: "https://static.brawlify.com/brawlstars/portrait/pam.png" },
          { name: "Bo", img: "https://static.brawlify.com/brawlstars/portrait/bo.png" },
        ],
      },
      {
        name: "Crystal Arcade",
        img: "https://static.brawlify.com/brawlstars/maps/crystal-arcade.png",
        characters: [
          { name: "Bibi", img: "https://static.brawlify.com/brawlstars/portrait/bibi.png" },
          { name: "Frank", img: "https://static.brawlify.com/brawlstars/portrait/frank.png" },
          { name: "Piper", img: "https://static.brawlify.com/brawlstars/portrait/piper.png" },
        ],
      },
      {
        name: "Super Stadium",
        img: "https://static.brawlify.com/brawlstars/maps/super-stadium.png",
        characters: [
          { name: "Gen", img: "https://static.brawlify.com/brawlstars/portrait/gen.png" },
          { name: "Crow", img: "https://static.brawlify.com/brawlstars/portrait/crow.png" },
          { name: "Spike", img: "https://static.brawlify.com/brawlstars/portrait/spike.png" },
        ],
      },
      {
        name: "Ball Park",
        img: "https://static.brawlify.com/brawlstars/maps/ball-park.png",
        characters: [
          { name: "Carl", img: "https://static.brawlify.com/brawlstars/portrait/carl.png" },
          { name: "Rosa", img: "https://static.brawlify.com/brawlstars/portrait/rosa.png" },
          { name: "Frank", img: "https://static.brawlify.com/brawlstars/portrait/frank.png" },
        ],
      },
    ],
  },
  showdown: {
    name: "Showdown",
    maps: [
      {
        name: "Scorched Stone",
        img: "https://static.brawlify.com/brawlstars/maps/scorched-stone.png",
        characters: [
          { name: "Spike", img: "https://static.brawlify.com/brawlstars/portrait/spike.png" },
          { name: "Crow", img: "https://static.brawlify.com/brawlstars/portrait/crow.png" },
          { name: "Leo", img: "https://static.brawlify.com/brawlstars/portrait/leo.png" },
        ],
      },
      {
        name: "Snake Prairie",
        img: "https://static.brawlify.com/brawlstars/maps/snake-prairie.png",
        characters: [
          { name: "Jacky", img: "https://static.brawlify.com/brawlstars/portrait/jacky.png" },
          { name: "Bull", img: "https://static.brawlify.com/brawlstars/portrait/bull.png" },
          { name: "Rico", img: "https://static.brawlify.com/brawlstars/portrait/rico.png" },
        ],
      },
      {
        name: "Rumble River",
        img: "https://static.brawlify.com/brawlstars/maps/rumble-river.png",
        characters: [
          { name: "Piper", img: "https://static.brawlify.com/brawlstars/portrait/piper.png" },
          { name: "Sandy", img: "https://static.brawlify.com/brawlstars/portrait/sandy.png" },
          { name: "Bo", img: "https://static.brawlify.com/brawlstars/portrait/bo.png" },
        ],
      },
      {
        name: "Double Swoosh",
        img: "https://static.brawlify.com/brawlstars/maps/double-swoosh.png",
        characters: [
          { name: "Darryl", img: "https://static.brawlify.com/brawlstars/portrait/darryl.png" },
          { name: "Pam", img: "https://static.brawlify.com/brawlstars/portrait/pam.png" },
          { name: "Frank", img: "https://static.brawlify.com/brawlstars/portrait/frank.png" },
        ],
      },
    ],
  },
  brawlball: {
    name: "Brawl Ball",
    maps: [
      {
        name: "Robo Ball",
        img: "https://static.brawlify.com/brawlstars/maps/robo-ball.png",
        characters: [
          { name: "Max", img: "https://static.brawlify.com/brawlstars/portrait/max.png" },
          { name: "Spike", img: "https://static.brawlify.com/brawlstars/portrait/spike.png" },
          { name: "El Primo", img: "https://static.brawlify.com/brawlstars/portrait/el-primo.png" },
        ],
      },
      {
        name: "Snake Park",
        img: "https://static.brawlify.com/brawlstars/maps/snake-park.png",
        characters: [
          { name: "Bibi", img: "https://static.brawlify.com/brawlstars/portrait/bibi.png" },
          { name: "Bull", img: "https://static.brawlify.com/brawlstars/portrait/bull.png" },
          { name: "Darryl", img: "https://static.brawlify.com/brawlstars/portrait/darryl.png" },
        ],
      },
    ],
  },
  heist: {
    name: "Heist",
    maps: [
      {
        name: "Safe Zone",
        img: "https://static.brawlify.com/brawlstars/maps/safe-zone.png",
        characters: [
          { name: "Poco", img: "https://static.brawlify.com/brawlstars/portrait/poco.png" },
          { name: "Barley", img: "https://static.brawlify.com/brawlstars/portrait/barley.png" },
          { name: "Jessie", img: "https://static.brawlify.com/brawlstars/portrait/jessie.png" },
        ],
      },
      {
        name: "Smash and Grab",
        img: "https://static.brawlify.com/brawlstars/maps/smash-and-grab.png",
        characters: [
          { name: "Shelly", img: "https://static.brawlify.com/brawlstars/portrait/shelly.png" },
          { name: "Nita", img: "https://static.brawlify.com/brawlstars/portrait/nita.png" },
          { name: "Colt", img: "https://static.brawlify.com/brawlstars/portrait/colt.png" },
        ],
      },
    ],
  },
  bounty: {
    name: "Bounty",
    maps: [
      {
        name: "Dry Season",
        img: "https://static.brawlify.com/brawlstars/maps/dry-season.png",
        characters: [
          { name: "Mortis", img: "https://static.brawlify.com/brawlstars/portrait/mortis.png" },
          { name: "Tick", img: "https://static.brawlify.com/brawlstars/portrait/tick.png" },
          { name: "Dynamike", img: "https://static.brawlify.com/brawlstars/portrait/dynamike.png" },
        ],
      },
      {
        name: "Crystal Gallery",
        img: "https://static.brawlify.com/brawlstars/maps/crystal-gallery.png",
        characters: [
          { name: "Pam", img: "https://static.brawlify.com/brawlstars/portrait/pam.png" },
          { name: "Colt", img: "https://static.brawlify.com/brawlstars/portrait/colt.png" },
          { name: "Frank", img: "https://static.brawlify.com/brawlstars/portrait/frank.png" },
        ],
      },
    ],
  },
};

const modeListEl = document.getElementById("modeList");
const contentEl = document.getElementById("content");
const searchInput = document.getElementById("searchInput");

let currentMode = Object.keys(data)[0];

// Mod listesini yapalım
function renderModeList() {
  modeListEl.innerHTML = "";
  Object.entries(data).forEach(([key, mode]) => {
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.textContent = mode.name;
    a.href = "#";
    a.classList.toggle("active", key === currentMode);
    a.addEventListener("click", (e) => {
      e.preventDefault();
      currentMode = key;
      searchInput.value = "";
      renderModeList();
      renderContent();
    });
    li.appendChild(a);
    modeListEl.appendChild(li);
  });
}

// Haritalar ve karakterleri renderla, arama filtresiyle beraber
function renderContent() {
  const filter = searchInput.value.toLowerCase();
  const modeData = data[currentMode];

  contentEl.innerHTML = `<h2>${modeData.name} Modu Haritaları</h2>`;

  modeData.maps.forEach((map) => {
    // Harita ve karakter ismine göre filtrele
    const mapNameMatch = map.name.toLowerCase().includes(filter);
    const charactersMatch = map.characters.some((c) =>
      c.name.toLowerCase().includes(filter)
    );
    if (!filter || mapNameMatch || charactersMatch) {
      const mapSection = document.createElement("section");
      mapSection.className = "map-section";

      mapSection.innerHTML = `
        <div class="map">
          <h3>${map.name}</h3>
          <img src="${map.img}" alt="${map.name}" />
          <div class="character-list">
            ${map.characters
              .map(
                (c) =>
                  `<div class="character" title="${c.name}">
                    <img src="${c.img}" alt="${c.name}" />
                    <div>${c.name}</div>
                  </div>`
              )
              .join("")}
          </div>
        </div>
      `;

      contentEl.appendChild(mapSection);
    }
  });
}

searchInput.addEventListener("input", renderContent);

renderModeList();
renderContent();
